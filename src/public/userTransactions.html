<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Transactions</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- Icons font CSS
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Vendor CSS-->
   <!--  <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">
-->
    <!-- Main CSS-->
    <link href="css/userTransactions.css" rel="stylesheet" media="all">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="/">Payments</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07" aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!--<div class="collapse navbar-collapse" id="navbarsExample07">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/adminAddEvent">Add Event<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/adminViewEvents">Events</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/logout">Logout</a>
            </li>
          </ul>
        </div>-->
      </div>
    </nav>
    <div class="page-wrapper bg-gra-03 p-t-20">
        <div class="wrapper wrapper--w790">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Deposit Money</h2>
                </div>
                <div class="card-body">
                    <form>
                        <div class="form-row">
                            <div class="name">Name</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerName" class="input--style-5" type="text" placeholder="Full Name" name="customerName" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Phone</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerPhone" class="input--style-5" type="number" placeholder="Phone" name="customerPhone" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Email</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerEmail" class="input--style-5" type="email" placeholder="Email" name="customerEmail" required>
                                </div>
                            </div>
                        </div>
                        <div class="row" id="error" style="display: none;">
                            <p id="errormessage" style="color: red; margin-left: 22%;">message</p> 
                        </div>
                        <div class="form-row m-b-50">
                            <div class="name">Amount</div>
                            <div class="value">
                                <div class="row row-refine">
                                    <div class="col-4">
                                        <div class="input-group-desc">
                                            <input id="orderAmount" class="input--style-5" placeholder="Amount" type="number" min="1" name="orderAmount" required>
                                            <label class="label--desc">amount in INR</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button id="submitDeposit" class="btn btn--radius-2 btn--red" style="margin-left: 41%; margin-top: 2%;" type="submit">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="wrapper wrapper--w790 mt-4 pb-4">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Withdraw Money</h2>
                </div>
                <div class="card-body">
                    <form>
                        <div class="form-row">
                            <div class="name">Name</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerNameW" class="input--style-5" type="text" placeholder="Full Name" name="customerName" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Phone</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerPhoneW" class="input--style-5" type="number" placeholder="Phone" name="customerPhone" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Email</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="customerEmailW" class="input--style-5" type="email" placeholder="Email" name="customerEmail" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Address</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="address1" class="input--style-5" type="text" placeholder="Address" name="address1" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Amount</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="amount" class="input--style-5" type="number" placeholder="Amount" name="amount" required>
                                </div>
                            </div>
                        </div>
                        <div class="row" id="error" style="display: none;">
                            <p id="errormessage" style="color: red; margin-left: 22%;">message</p> 
                        </div>
                        <div class="form-row">
                            <div class="name">VPA</div>
                            <div class="value">
                                <div class="input-group">
                                    <input id="vpa" class="input--style-5" type="text" placeholder="VPA" name="vpa" required>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button id="submitWithdraw" class="btn btn--radius-2 btn--red" style="margin-left: 41%; margin-top: 2%;" type="submit">Submit</button>
                        </div>
                    </form>
                    <!--<div>
                        <a href="/logout"><button class="btn btn--radius-2 btn--red" style="margin-left: 4%; margin-top: 2%;">Logout</button></a>
                        <a href="/adminViewEvents"><button class="btn btn--radius-2 btn--red" style="margin-left: 44%; margin-top: 2%; padding-left:9%; padding-right:9%">View</button></a>
                    </div>-->
                </div>
            </div>
        </div>
    </div>
    <!-- Jquery JS
    <script src="js/jquery.min.js"></script>-->
    <!-- Vendor JS
    <script src="select2.min.js"></script>-->
<!--    <script src="vendor/datepicker/moment.min.js"></script>
    <script src="vendor/datepicker/daterangepicker.js"></script>-->

    <!-- Main JS
   <script src="js/global.js"></script>-->
   <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$('#submitDeposit').click(function(event) {
    var x = document.getElementById("error");
    x.style.display = "none";
    /*var y = document.getElementById("errormessage");
    y.innerHTML = "Booking start time should be before end time.";
    x.style.display = "block";*/
    if(($("#customerName").val() !== '') && ( $("#customerPhone").val() !== '')
        && ( $("#customerEmail").val() !== '') && ( $("#orderAmount").val() !== ''))
    {
        event.preventDefault();
    
        $.ajax({
            global: false,
            type: 'POST',
            url: '/order',
            data: {
                user_id: 1,
                customer_name: $("#customerName").val(),
                customer_phone: $("#customerPhone").val(),
                customer_email: $("#customerEmail").val(),
                order_amount: $("#orderAmount").val()
            },
            success: function (result) {
                if (result.responseData.reason) {
                    alert(result.responseData.reason);
                } else {
                    window.location = result.responseData.paymentLink;
                }
                console.log(result.responseData);
            },
            error: function (request, status, error) {
                console.log(error);
            }
        });  
    }
});

$('#submitWithdraw').click(function(event) {
    var x = document.getElementById("error");
    x.style.display = "none";
    /*var y = document.getElementById("errormessage");
    y.innerHTML = "Booking start time should be before end time.";
    x.style.display = "block";*/
    if(($("#customerNameW").val() !== '') && ( $("#customerPhoneW").val() !== '')
        && ( $("#customerEmailW").val() !== '') && ( $("#address1").val() !== '')
        && ( $("#vpa").val() !== '') && ( $("#amount").val() !== ''))
    {
        event.preventDefault();
    
        $.ajax({
            global: false,
            type: 'POST',
            url: '/withdraw',
            data: {
                user_id: 1,
                customer_name: $("#customerNameW").val(),
                customer_phone: $("#customerPhoneW").val(),
                customer_email: $("#customerEmailW").val(),
                address1: $("#address1").val(),
                amount: $("#amount").val(),
                vpa: $("#vpa").val()
            },
            success: function (result) {
                alert(result.responseData.message);
                console.log(result.responseData);
            },
            error: function (request, status, error) {
                console.log(error);
            }
        });  
    }
});
</script>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->
